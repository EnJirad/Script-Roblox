local function runScript()
    local _G = _G -- Add this line to avoid potential errors

    while _G.loop do wait(0.01)
        for i, v in pairs(game:GetService("Workspace").Projectiles:GetChildren()) do
            if v.Name == "Part" then
                v:Destroy()
            end 
        end 
    end


    while _G.loop do wait(0.1)
        local Tokens = game:GetService("Workspace").Projectiles:GetChildren()
        for i, Token in ipairs(Tokens) do
            if Token:IsA("Part") and Token.Name == "Winter's Delight Token" then
                Token.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
            end
        end
    end


    while _G.loop do wait(0.1)
        local args = {
            [1] = "Input",
            [2] = "Everwinter Staff",
            [3] = 0,
            [4] = "Meteor",
            [5] = game.Players.LocalPlayer.Character.HumanoidRootPart.Position + Vector3.new(0, 0, 0)
        }
        game:GetService("Players").LocalPlayer.Character.Combat.RemoteEvent:FireServer(unpack(args))
    end


    while _G.loop do wait(0.1)
        local foundMonster = false
        for i, v in pairs(game:GetService("Workspace").NPCs:GetChildren()) do
            if v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, -30, 0)
                foundMonster = true
                break
            end
        end
        if not foundMonster then
            local args = {
                [1] = "StartRaid",
                [2] = "Christmas"
            }
            
            game:GetService("ReplicatedStorage").RemoteEvent:FireServer(unpack(args))
        end
        wait(0.1)
        if not TPMon then
            break
        end
    end
end

runScript() -- Call the function to execute the script immediately
