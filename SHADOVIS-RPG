local loop = true

coroutine.wrap(function()
    while loop do
        for i, v in pairs(game:GetService("Workspace").Projectiles:GetChildren()) do
            if v.Name == "Part" then
                v:Destroy()
            end
        end
        wait(0.01)
    end
end)()

coroutine.wrap(function()
    while loop do
        local Tokens = game:GetService("Workspace").Projectiles:GetChildren()
        for i, Token in ipairs(Tokens) do
            if Token:IsA("Part") and Token.Name == "Winter's Delight Token" then
                Token.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
            end
        end
        wait(0.1)
    end
end)()

coroutine.wrap(function()
    while loop do
        local args = {
            [1] = "Input",
            [2] = "Everwinter Staff",
            [3] = 0,
            [4] = "Meteor",
            [5] = game.Players.LocalPlayer.Character.HumanoidRootPart.Position + Vector3.new(0, 0, 0)
        }
        game:GetService("Players").LocalPlayer.Character.Combat.RemoteEvent:FireServer(unpack(args))
        wait(0.5)
    end
end)()

coroutine.wrap(function()
    while loop do
        for i, v in pairs(game:GetService("Workspace").NPCs:GetChildren()) do
            if v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, -30, 0)
            end
        end
        wait(0.3)
        if not loop then
            break
        end
    end
end)()

coroutine.wrap(function()
    while loop do
        local hasHumanoidRootPart = false

        for i, v in pairs(game:GetService("Workspace").NPCs:GetChildren()) do
            if v:FindFirstChild("HumanoidRootPart") then
                hasHumanoidRootPart = true
                break
            end
        end
        if not hasHumanoidRootPart then
            local args = {
                [1] = "StartRaid",
                [2] = "Christmas"
            }
            game:GetService("ReplicatedStorage").RemoteEvent:FireServer(unpack(args))
        end
        wait(10)
    end
end)()
